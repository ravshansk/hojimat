<!DOCTYPE html>

<html>
<head>
<meta charset="UTF-8">

<title>xtcointreg.ado - RDoc Documentation</title>

<script type="text/javascript">
  var rdoc_rel_prefix = "../../";
  var index_rel_prefix = "../../";
</script>

<script src="../../js/jquery.js"></script>
<script src="../../js/darkfish.js"></script>

<link href="../../css/fonts.css" rel="stylesheet">
<link href="../../css/rdoc.css" rel="stylesheet">



<body id="top" role="document" class="file">
<nav role="navigation">
  <div id="project-navigation">
    <div id="home-section" role="region" title="Quick navigation" class="nav-section">
  <h2>
    <a href="../../index.html" rel="home">Home</a>
  </h2>

  <div id="table-of-contents-navigation">
    <a href="../../table_of_contents.html#pages">Pages</a>
    <a href="../../table_of_contents.html#classes">Classes</a>
    <a href="../../table_of_contents.html#methods">Methods</a>
  </div>
</div>

    <div id="search-section" role="search" class="project-section initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <div id="search-field-wrapper">
      <input id="search-field" role="combobox" aria-label="Search"
             aria-autocomplete="list" aria-controls="search-results"
             type="text" name="search" placeholder="Search" spellcheck="false"
             title="Type to search, Up and Down to navigate, Enter to load">
    </div>

    <ul id="search-results" aria-label="Search Results"
        aria-busy="false" aria-expanded="false"
        aria-atomic="false" class="initially-hidden"></ul>
  </form>
</div>

  </div>

  

  <div id="project-metadata">
    <div id="fileindex-section" class="nav-section">
  <h3>Pages</h3>

  <ul class="link-list">
  
    <li><a href="../../CNAME.html">CNAME</a>
  
    <li><a href="../../Gemfile.html">Gemfile</a>
  
    <li><a href="../../Gemfile_lock.html">Gemfile.lock</a>
  
    <li><a href="../../README_md.html">README</a>
  
    <li><a href="../../_Dockerfile.html">_Dockerfile</a>
  
    <li><a href="../../_includes/analytics_html.html">analytics.html</a>
  
    <li><a href="../../_includes/head_html.html">head.html</a>
  
    <li><a href="../../_layouts/default_html.html">default.html</a>
  
    <li><a href="../../_layouts/page_html.html">page.html</a>
  
    <li><a href="../../_layouts/pageru_html.html">pageru.html</a>
  
    <li><a href="../../_layouts/post_html.html">post.html</a>
  
    <li><a href="../../_layouts/russian_html.html">russian.html</a>
  
    <li><a href="../../_site/404_html.html">404.html</a>
  
    <li><a href="../../_site/CNAME.html">CNAME</a>
  
    <li><a href="../../_site/README_md.html">README</a>
  
    <li><a href="../../_site/all-posts_json.html">all-posts.json</a>
  
    <li><a href="../../_site/assets/css/main_css.html">main.css</a>
  
    <li><a href="../../_site/assets/css/syntax_css.html">syntax.css</a>
  
    <li><a href="../../_site/assets/ftp/xtcointreg_ado.html">xtcointreg.ado</a>
  
    <li><a href="../../_site/atom_xml.html">atom.xml</a>
  
    <li><a href="../../_site/blog/2017/12/12/irf-ann/index_html.html">index.html</a>
  
    <li><a href="../../_site/blog/2018/01/01/xtcointreg/index_html.html">index.html</a>
  
    <li><a href="../../_site/blog/2018/02/07/pessimism-in-bba/index_html.html">index.html</a>
  
    <li><a href="../../_site/blog/index_html.html">index.html</a>
  
    <li><a href="../../_site/blogru/2018/02/20/telegramblog/index_html.html">index.html</a>
  
    <li><a href="../../_site/blogru/index_html.html">index.html</a>
  
    <li><a href="../../_site/collaborate_html.html">collaborate.html</a>
  
    <li><a href="../../_site/contact_html.html">contact.html</a>
  
    <li><a href="../../_site/cv_html.html">cv.html</a>
  
    <li><a href="../../_site/index_html.html">index.html</a>
  
    <li><a href="../../_site/js/infinite-jekyll_js.html">infinite-jekyll.js</a>
  
    <li><a href="../../_site/kontakt_html.html">kontakt.html</a>
  
    <li><a href="../../_site/naym_html.html">naym.html</a>
  
    <li><a href="../../_site/raboty_html.html">raboty.html</a>
  
    <li><a href="../../_site/rezume_html.html">rezume.html</a>
  
    <li><a href="../../_site/robots_txt.html">robots</a>
  
    <li><a href="../../_site/ru_html.html">ru.html</a>
  
    <li><a href="../../_site/sitemap_xml.html">sitemap.xml</a>
  
    <li><a href="../../_site/works_html.html">works.html</a>
  
    <li><a href="../../assets/css/main_css.html">main.css</a>
  
    <li><a href="../../assets/css/syntax_css.html">syntax.css</a>
  
    <li><a href="../../assets/ftp/xtcointreg_ado.html">xtcointreg.ado</a>
  
    <li><a href="../../atom_xml.html">atom.xml</a>
  
    <li><a href="../../blog/_posts/2017-12-12-irf-ann_md.html">2017-12-12-irf-ann</a>
  
    <li><a href="../../blog/_posts/2018-1-1-xtcointreg_md.html">2018-1-1-xtcointreg</a>
  
    <li><a href="../../blog/_posts/2018-2-7-pessimism-in-bba_md.html">2018-2-7-pessimism-in-bba</a>
  
    <li><a href="../../blog/_posts/2018-3-22-nocomment-blogs_md.html">2018-3-22-nocomment-blogs</a>
  
    <li><a href="../../blog/index_html.html">index.html</a>
  
    <li><a href="../../blogru/_posts/2018-2-20-telegramblog_md.html">2018-2-20-telegramblog</a>
  
    <li><a href="../../blogru/index_html.html">index.html</a>
  
    <li><a href="../../pages/404_html.html">404.html</a>
  
    <li><a href="../../pages/about_md.html">about</a>
  
    <li><a href="../../pages/collab_md.html">collab</a>
  
    <li><a href="../../pages/contact_md.html">contact</a>
  
    <li><a href="../../pages/cv_md.html">cv</a>
  
    <li><a href="../../pages/kontakt_md.html">kontakt</a>
  
    <li><a href="../../pages/naym_md.html">naym</a>
  
    <li><a href="../../pages/obomne_md.html">obomne</a>
  
    <li><a href="../../pages/raboty_md.html">raboty</a>
  
    <li><a href="../../pages/rezume_md.html">rezume</a>
  
    <li><a href="../../pages/works_md.html">works</a>
  
  </ul>
</div>

  </div>
</nav>

<main role="main" aria-label="Page assets/ftp/xtcointreg.ado">

<p>*! Ravshanbek Khodzhimatov *! 1/1/2018 *! This program does
Pedroni&#39;s(1996) generalization of FMOLS and DOLS models to panel data.
*! Please make sure “cointreg” is installed via “net install st0272.pkg”
from <a
href="http://www.stata-journal.com/software/sj12-3">www.stata-journal.com/software/sj12-3</a>/
*! All of the options are available under cointreg except for “full” option
*! When you add “full” option it gives not only the Pedroni average but
also FMOLS for every single panel *! Contact me via rsk@ravshansk.com
program drop xtcointreg program xtcointreg, eclass sortpreserve version
11.0 syntax varlist(ts fv) [if] [in] , [ est(string) noCONStant
EQTrend(integer 0) EQDet(varlist) XTrend(integer 0) XDet(varlist) diff
stage(integer 1) dlead(integer 1) dlag(integer 1) dic(string)
DMAXorder(integer 0) dvar(varlist ts fv) dvce(string) noDADJdof noDIVN
dof(integer 0) vic(string) vlag(integer 0) noVADJdof KERNel(string)
BWIDth(real 0) bmeth(string) blag(integer 0) BTRUnc Level(real 95) full]</p>

<p>marksample touse</p>

<p>qui {</p>

<pre>xtset

local ivar `r(panelvar)&#39;
local tvar `r(timevar)&#39;

levels `ivar&#39; if `touse&#39;, local(panels)

tokenize `varlist&#39;
global Y `1&#39;
macro shift
global X `*&#39;

local indnum = wordcount(&quot;$X&quot;)
local panelnum = wordcount(&quot;`panels&#39;&quot;)</pre>

<p>}</p>

<p>*! Estimation</p>

<p>matrix Bsum = J(`indnum&#39;,1,0) matrix Tsum = J(`indnum&#39;,1,0)</p>

<p>quietly foreach pan of local panels{</p>

<pre>di &quot;`pan&#39;&quot;
cointreg `varlist&#39; if `ivar&#39;==`pan&#39;, est(`est&#39;) `constant&#39; eqt(`eqtrend&#39;) eqd(`eqdet&#39;) xt(`xtrend&#39;) diff stage(`stage&#39;) dlead(`dlead&#39;) dlag(`dlag&#39;) dic(`dfk&#39;) dmax(`dmaxorder&#39;) dvar(`dvar&#39;) dvce(`dvce&#39;)`dadjdof&#39; `divn&#39; dof(`dof&#39;) vic(`vic&#39;) vlag(`vlag&#39;) `vadjdof&#39; kern(`kernel&#39;) bwid(`bwidth&#39;) bmeth(`bmeth&#39;) blag(`blag&#39;) `btrunc&#39; level(`level&#39;)

matrix B`pan&#39; = e(b)
matrix B`pan&#39; = B`pan&#39;[1,1..`indnum&#39;]&#39; // to remove constant
matrix rownames B`pan&#39; = $X
matrix colnames B`pan&#39; = beta_`pan&#39;

matrix V`pan&#39; = e(V)
matrix V`pan&#39; = V`pan&#39;[1..`indnum&#39;,1..`indnum&#39;] // to remove constant
matrix T`pan&#39; = J(`indnum&#39;,1,.)  // to remove constant
matrix Se`pan&#39; = J(`indnum&#39;,1,.) // to remove constant
forval i = 1/`indnum&#39; {
        matrix Se`pan&#39;[`i&#39;,1] = sqrt(V`pan&#39;[`i&#39;,`i&#39;])
        matrix T`pan&#39;[`i&#39;,1] = B`pan&#39;[`i&#39;,1]/Se`pan&#39;[`i&#39;,1]
}
matrix rownames T`pan&#39; = $X
matrix rownames Se`pan&#39; = $X
matrix colnames T`pan&#39; = t-stat_`pan&#39;
matrix colnames Se`pan&#39; = s.e._`pan&#39;

matrix Bsum = Bsum + B`pan&#39;
matrix Tsum = Tsum + T`pan&#39;</pre>

<p>}</p>

<p>matrix Bave = Bsum/`panelnum&#39; matrix Tave = Tsum/sqrt(`panelnum&#39;)
matrix Cave = Bave,Tave matrix colnames Cave = beta t-stat</p>

<p>matrix Tab = J(1,`indnum&#39;,.) quietly foreach pan of local panels {</p>

<pre>matrix Tab = Tab\B`pan&#39;&#39;\Se`pan&#39;&#39;\T`pan&#39;&#39;</pre>

<p>} matrix colnames Tab = $X</p>

<p>if “`est&#39;”==“”{</p>

<pre class="ruby"><span class="ruby-identifier">di</span> <span class="ruby-string">&quot;Method of estimation: FMOLS&quot;</span>
</pre>

<p>} else{</p>

<pre class="ruby"><span class="ruby-identifier">di</span> <span class="ruby-string">&quot;Method of estimation: `est&#39;&quot;</span>
</pre>

<p>}</p>

<p>di “Number</p>

<p>if “`full&#39;”!=“”{</p>

<pre>matrix list Tab, format(%8.2f)
matrix list Cave, format(%8.2f)</pre>

<p>} else {</p>

<pre>matrix list Cave, format(%8.2f)</pre>

<p>}</p>

<p>end</p>
</main>



<footer id="validator-badges" role="contentinfo">
  <p><a href="https://validator.w3.org/check/referer">Validate</a>
  <p>Generated by <a href="https://ruby.github.io/rdoc/">RDoc</a> 6.0.1.
  <p>Based on <a href="http://deveiate.org/projects/Darkfish-RDoc/">Darkfish</a> by <a href="http://deveiate.org">Michael Granger</a>.
</footer>

